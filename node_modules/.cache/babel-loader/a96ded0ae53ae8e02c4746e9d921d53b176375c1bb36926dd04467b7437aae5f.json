{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SetProfilingLevelOperation = exports.ProfilingLevel = void 0;\nconst error_1 = require(\"../error\");\nconst utils_1 = require(\"../utils\");\nconst command_1 = require(\"./command\");\nconst levelValues = new Set(['off', 'slow_only', 'all']);\n/** @public */\nexports.ProfilingLevel = Object.freeze({\n  off: 'off',\n  slowOnly: 'slow_only',\n  all: 'all'\n});\n/** @internal */\nclass SetProfilingLevelOperation extends command_1.CommandOperation {\n  constructor(db, level, options) {\n    super(db, options);\n    this.options = options;\n    switch (level) {\n      case exports.ProfilingLevel.off:\n        this.profile = 0;\n        break;\n      case exports.ProfilingLevel.slowOnly:\n        this.profile = 1;\n        break;\n      case exports.ProfilingLevel.all:\n        this.profile = 2;\n        break;\n      default:\n        this.profile = 0;\n        break;\n    }\n    this.level = level;\n  }\n  async execute(server, session) {\n    const level = this.level;\n    if (!levelValues.has(level)) {\n      throw new error_1.MongoInvalidArgumentError(`Profiling level must be one of \"${(0, utils_1.enumToString)(exports.ProfilingLevel)}\"`);\n    }\n    // TODO(NODE-3483): Determine error to put here\n    await super.executeCommand(server, session, {\n      profile: this.profile\n    });\n    return level;\n  }\n}\nexports.SetProfilingLevelOperation = SetProfilingLevelOperation;","map":{"version":3,"names":["Object","defineProperty","exports","value","SetProfilingLevelOperation","ProfilingLevel","error_1","require","utils_1","command_1","levelValues","Set","freeze","off","slowOnly","all","CommandOperation","constructor","db","level","options","profile","execute","server","session","has","MongoInvalidArgumentError","enumToString","executeCommand"],"sources":["D:/web_project/node_modules/mongodb/lib/operations/set_profiling_level.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SetProfilingLevelOperation = exports.ProfilingLevel = void 0;\nconst error_1 = require(\"../error\");\nconst utils_1 = require(\"../utils\");\nconst command_1 = require(\"./command\");\nconst levelValues = new Set(['off', 'slow_only', 'all']);\n/** @public */\nexports.ProfilingLevel = Object.freeze({\n    off: 'off',\n    slowOnly: 'slow_only',\n    all: 'all'\n});\n/** @internal */\nclass SetProfilingLevelOperation extends command_1.CommandOperation {\n    constructor(db, level, options) {\n        super(db, options);\n        this.options = options;\n        switch (level) {\n            case exports.ProfilingLevel.off:\n                this.profile = 0;\n                break;\n            case exports.ProfilingLevel.slowOnly:\n                this.profile = 1;\n                break;\n            case exports.ProfilingLevel.all:\n                this.profile = 2;\n                break;\n            default:\n                this.profile = 0;\n                break;\n        }\n        this.level = level;\n    }\n    async execute(server, session) {\n        const level = this.level;\n        if (!levelValues.has(level)) {\n            throw new error_1.MongoInvalidArgumentError(`Profiling level must be one of \"${(0, utils_1.enumToString)(exports.ProfilingLevel)}\"`);\n        }\n        // TODO(NODE-3483): Determine error to put here\n        await super.executeCommand(server, session, { profile: this.profile });\n        return level;\n    }\n}\nexports.SetProfilingLevelOperation = SetProfilingLevelOperation;\n//# sourceMappingURL=set_profiling_level.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,0BAA0B,GAAGF,OAAO,CAACG,cAAc,GAAG,KAAK,CAAC;AACpE,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACnC,MAAMC,OAAO,GAAGD,OAAO,CAAC,UAAU,CAAC;AACnC,MAAME,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMG,WAAW,GAAG,IAAIC,GAAG,CAAC,CAAC,KAAK,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;AACxD;AACAT,OAAO,CAACG,cAAc,GAAGL,MAAM,CAACY,MAAM,CAAC;EACnCC,GAAG,EAAE,KAAK;EACVC,QAAQ,EAAE,WAAW;EACrBC,GAAG,EAAE;AACT,CAAC,CAAC;AACF;AACA,MAAMX,0BAA0B,SAASK,SAAS,CAACO,gBAAgB,CAAC;EAChEC,WAAWA,CAACC,EAAE,EAAEC,KAAK,EAAEC,OAAO,EAAE;IAC5B,KAAK,CAACF,EAAE,EAAEE,OAAO,CAAC;IAClB,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,QAAQD,KAAK;MACT,KAAKjB,OAAO,CAACG,cAAc,CAACQ,GAAG;QAC3B,IAAI,CAACQ,OAAO,GAAG,CAAC;QAChB;MACJ,KAAKnB,OAAO,CAACG,cAAc,CAACS,QAAQ;QAChC,IAAI,CAACO,OAAO,GAAG,CAAC;QAChB;MACJ,KAAKnB,OAAO,CAACG,cAAc,CAACU,GAAG;QAC3B,IAAI,CAACM,OAAO,GAAG,CAAC;QAChB;MACJ;QACI,IAAI,CAACA,OAAO,GAAG,CAAC;QAChB;IACR;IACA,IAAI,CAACF,KAAK,GAAGA,KAAK;EACtB;EACA,MAAMG,OAAOA,CAACC,MAAM,EAAEC,OAAO,EAAE;IAC3B,MAAML,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB,IAAI,CAACT,WAAW,CAACe,GAAG,CAACN,KAAK,CAAC,EAAE;MACzB,MAAM,IAAIb,OAAO,CAACoB,yBAAyB,CAAE,mCAAkC,CAAC,CAAC,EAAElB,OAAO,CAACmB,YAAY,EAAEzB,OAAO,CAACG,cAAc,CAAE,GAAE,CAAC;IACxI;IACA;IACA,MAAM,KAAK,CAACuB,cAAc,CAACL,MAAM,EAAEC,OAAO,EAAE;MAAEH,OAAO,EAAE,IAAI,CAACA;IAAQ,CAAC,CAAC;IACtE,OAAOF,KAAK;EAChB;AACJ;AACAjB,OAAO,CAACE,0BAA0B,GAAGA,0BAA0B","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}