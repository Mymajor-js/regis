{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WriteConcern = exports.WRITE_CONCERN_KEYS = void 0;\nexports.WRITE_CONCERN_KEYS = ['w', 'wtimeout', 'j', 'journal', 'fsync'];\n/**\n * A MongoDB WriteConcern, which describes the level of acknowledgement\n * requested from MongoDB for write operations.\n * @public\n *\n * @see https://www.mongodb.com/docs/manual/reference/write-concern/\n */\nclass WriteConcern {\n  /**\n   * Constructs a WriteConcern from the write concern properties.\n   * @param w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.\n   * @param wtimeoutMS - specify a time limit to prevent write operations from blocking indefinitely\n   * @param journal - request acknowledgment that the write operation has been written to the on-disk journal\n   * @param fsync - equivalent to the j option. Is deprecated and will be removed in the next major version.\n   */\n  constructor(w, wtimeoutMS, journal, fsync) {\n    if (w != null) {\n      if (!Number.isNaN(Number(w))) {\n        this.w = Number(w);\n      } else {\n        this.w = w;\n      }\n    }\n    if (wtimeoutMS != null) {\n      this.wtimeoutMS = this.wtimeout = wtimeoutMS;\n    }\n    if (journal != null) {\n      this.journal = this.j = journal;\n    }\n    if (fsync != null) {\n      this.journal = this.j = fsync ? true : false;\n    }\n  }\n  /**\n   * Apply a write concern to a command document. Will modify and return the command.\n   */\n  static apply(command, writeConcern) {\n    const wc = {};\n    // The write concern document sent to the server has w/wtimeout/j fields.\n    if (writeConcern.w != null) wc.w = writeConcern.w;\n    if (writeConcern.wtimeoutMS != null) wc.wtimeout = writeConcern.wtimeoutMS;\n    if (writeConcern.journal != null) wc.j = writeConcern.j;\n    command.writeConcern = wc;\n    return command;\n  }\n  /** Construct a WriteConcern given an options object. */\n  static fromOptions(options, inherit) {\n    if (options == null) return undefined;\n    inherit = inherit ?? {};\n    let opts;\n    if (typeof options === 'string' || typeof options === 'number') {\n      opts = {\n        w: options\n      };\n    } else if (options instanceof WriteConcern) {\n      opts = options;\n    } else {\n      opts = options.writeConcern;\n    }\n    const parentOpts = inherit instanceof WriteConcern ? inherit : inherit.writeConcern;\n    const {\n      w = undefined,\n      wtimeout = undefined,\n      j = undefined,\n      fsync = undefined,\n      journal = undefined,\n      wtimeoutMS = undefined\n    } = {\n      ...parentOpts,\n      ...opts\n    };\n    if (w != null || wtimeout != null || wtimeoutMS != null || j != null || journal != null || fsync != null) {\n      return new WriteConcern(w, wtimeout ?? wtimeoutMS, j ?? journal, fsync);\n    }\n    return undefined;\n  }\n}\nexports.WriteConcern = WriteConcern;","map":{"version":3,"names":["Object","defineProperty","exports","value","WriteConcern","WRITE_CONCERN_KEYS","constructor","w","wtimeoutMS","journal","fsync","Number","isNaN","wtimeout","j","apply","command","writeConcern","wc","fromOptions","options","inherit","undefined","opts","parentOpts"],"sources":["D:/web_project/node_modules/mongodb/lib/write_concern.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteConcern = exports.WRITE_CONCERN_KEYS = void 0;\nexports.WRITE_CONCERN_KEYS = ['w', 'wtimeout', 'j', 'journal', 'fsync'];\n/**\n * A MongoDB WriteConcern, which describes the level of acknowledgement\n * requested from MongoDB for write operations.\n * @public\n *\n * @see https://www.mongodb.com/docs/manual/reference/write-concern/\n */\nclass WriteConcern {\n    /**\n     * Constructs a WriteConcern from the write concern properties.\n     * @param w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.\n     * @param wtimeoutMS - specify a time limit to prevent write operations from blocking indefinitely\n     * @param journal - request acknowledgment that the write operation has been written to the on-disk journal\n     * @param fsync - equivalent to the j option. Is deprecated and will be removed in the next major version.\n     */\n    constructor(w, wtimeoutMS, journal, fsync) {\n        if (w != null) {\n            if (!Number.isNaN(Number(w))) {\n                this.w = Number(w);\n            }\n            else {\n                this.w = w;\n            }\n        }\n        if (wtimeoutMS != null) {\n            this.wtimeoutMS = this.wtimeout = wtimeoutMS;\n        }\n        if (journal != null) {\n            this.journal = this.j = journal;\n        }\n        if (fsync != null) {\n            this.journal = this.j = fsync ? true : false;\n        }\n    }\n    /**\n     * Apply a write concern to a command document. Will modify and return the command.\n     */\n    static apply(command, writeConcern) {\n        const wc = {};\n        // The write concern document sent to the server has w/wtimeout/j fields.\n        if (writeConcern.w != null)\n            wc.w = writeConcern.w;\n        if (writeConcern.wtimeoutMS != null)\n            wc.wtimeout = writeConcern.wtimeoutMS;\n        if (writeConcern.journal != null)\n            wc.j = writeConcern.j;\n        command.writeConcern = wc;\n        return command;\n    }\n    /** Construct a WriteConcern given an options object. */\n    static fromOptions(options, inherit) {\n        if (options == null)\n            return undefined;\n        inherit = inherit ?? {};\n        let opts;\n        if (typeof options === 'string' || typeof options === 'number') {\n            opts = { w: options };\n        }\n        else if (options instanceof WriteConcern) {\n            opts = options;\n        }\n        else {\n            opts = options.writeConcern;\n        }\n        const parentOpts = inherit instanceof WriteConcern ? inherit : inherit.writeConcern;\n        const { w = undefined, wtimeout = undefined, j = undefined, fsync = undefined, journal = undefined, wtimeoutMS = undefined } = {\n            ...parentOpts,\n            ...opts\n        };\n        if (w != null ||\n            wtimeout != null ||\n            wtimeoutMS != null ||\n            j != null ||\n            journal != null ||\n            fsync != null) {\n            return new WriteConcern(w, wtimeout ?? wtimeoutMS, j ?? journal, fsync);\n        }\n        return undefined;\n    }\n}\nexports.WriteConcern = WriteConcern;\n//# sourceMappingURL=write_concern.js.map"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAGF,OAAO,CAACG,kBAAkB,GAAG,KAAK,CAAC;AAC1DH,OAAO,CAACG,kBAAkB,GAAG,CAAC,GAAG,EAAE,UAAU,EAAE,GAAG,EAAE,SAAS,EAAE,OAAO,CAAC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMD,YAAY,CAAC;EACf;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,WAAWA,CAACC,CAAC,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAE;IACvC,IAAIH,CAAC,IAAI,IAAI,EAAE;MACX,IAAI,CAACI,MAAM,CAACC,KAAK,CAACD,MAAM,CAACJ,CAAC,CAAC,CAAC,EAAE;QAC1B,IAAI,CAACA,CAAC,GAAGI,MAAM,CAACJ,CAAC,CAAC;MACtB,CAAC,MACI;QACD,IAAI,CAACA,CAAC,GAAGA,CAAC;MACd;IACJ;IACA,IAAIC,UAAU,IAAI,IAAI,EAAE;MACpB,IAAI,CAACA,UAAU,GAAG,IAAI,CAACK,QAAQ,GAAGL,UAAU;IAChD;IACA,IAAIC,OAAO,IAAI,IAAI,EAAE;MACjB,IAAI,CAACA,OAAO,GAAG,IAAI,CAACK,CAAC,GAAGL,OAAO;IACnC;IACA,IAAIC,KAAK,IAAI,IAAI,EAAE;MACf,IAAI,CAACD,OAAO,GAAG,IAAI,CAACK,CAAC,GAAGJ,KAAK,GAAG,IAAI,GAAG,KAAK;IAChD;EACJ;EACA;AACJ;AACA;EACI,OAAOK,KAAKA,CAACC,OAAO,EAAEC,YAAY,EAAE;IAChC,MAAMC,EAAE,GAAG,CAAC,CAAC;IACb;IACA,IAAID,YAAY,CAACV,CAAC,IAAI,IAAI,EACtBW,EAAE,CAACX,CAAC,GAAGU,YAAY,CAACV,CAAC;IACzB,IAAIU,YAAY,CAACT,UAAU,IAAI,IAAI,EAC/BU,EAAE,CAACL,QAAQ,GAAGI,YAAY,CAACT,UAAU;IACzC,IAAIS,YAAY,CAACR,OAAO,IAAI,IAAI,EAC5BS,EAAE,CAACJ,CAAC,GAAGG,YAAY,CAACH,CAAC;IACzBE,OAAO,CAACC,YAAY,GAAGC,EAAE;IACzB,OAAOF,OAAO;EAClB;EACA;EACA,OAAOG,WAAWA,CAACC,OAAO,EAAEC,OAAO,EAAE;IACjC,IAAID,OAAO,IAAI,IAAI,EACf,OAAOE,SAAS;IACpBD,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB,IAAIE,IAAI;IACR,IAAI,OAAOH,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC5DG,IAAI,GAAG;QAAEhB,CAAC,EAAEa;MAAQ,CAAC;IACzB,CAAC,MACI,IAAIA,OAAO,YAAYhB,YAAY,EAAE;MACtCmB,IAAI,GAAGH,OAAO;IAClB,CAAC,MACI;MACDG,IAAI,GAAGH,OAAO,CAACH,YAAY;IAC/B;IACA,MAAMO,UAAU,GAAGH,OAAO,YAAYjB,YAAY,GAAGiB,OAAO,GAAGA,OAAO,CAACJ,YAAY;IACnF,MAAM;MAAEV,CAAC,GAAGe,SAAS;MAAET,QAAQ,GAAGS,SAAS;MAAER,CAAC,GAAGQ,SAAS;MAAEZ,KAAK,GAAGY,SAAS;MAAEb,OAAO,GAAGa,SAAS;MAAEd,UAAU,GAAGc;IAAU,CAAC,GAAG;MAC3H,GAAGE,UAAU;MACb,GAAGD;IACP,CAAC;IACD,IAAIhB,CAAC,IAAI,IAAI,IACTM,QAAQ,IAAI,IAAI,IAChBL,UAAU,IAAI,IAAI,IAClBM,CAAC,IAAI,IAAI,IACTL,OAAO,IAAI,IAAI,IACfC,KAAK,IAAI,IAAI,EAAE;MACf,OAAO,IAAIN,YAAY,CAACG,CAAC,EAAEM,QAAQ,IAAIL,UAAU,EAAEM,CAAC,IAAIL,OAAO,EAAEC,KAAK,CAAC;IAC3E;IACA,OAAOY,SAAS;EACpB;AACJ;AACApB,OAAO,CAACE,YAAY,GAAGA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}